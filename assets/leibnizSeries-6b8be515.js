import{P as j,Q as R,R as q,U,S as P,T as N,V as k,W as D,X as $,d as M,Y as J,Z as ee,$ as ae,a0 as te,z as h,a1 as ie,a2 as le,r as B,a3 as ne,A as z,a4 as se,e as oe,o,c as f,a as d,u as a,x as v,a5 as re,a6 as y,w as S,a7 as x,a8 as _,a9 as m,t as w,f as E,aa as ce,ab as W,G as ue,ac as de,n as ve,ad as X,ae as me,af as fe,b as pe}from"./index-27e8f055.js";import{E as he}from"./el-input-number-9b9ae2f6.js";import{u as ye}from"./useP5-e34c7c49.js";import{i as be}from"./validator-ff716f27.js";import{u as ge}from"./index-f4a70435.js";import"./p5-1003a71f.js";const we=j({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:R},inactiveIcon:{type:R},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:q(Function)},size:{type:String,validator:be},tabindex:{type:[String,Number]}}),Ve={[U]:i=>P(i)||N(i)||k(i),[D]:i=>P(i)||N(i)||k(i),[$]:i=>P(i)||N(i)||k(i)},Ce=["onClick"],Ie=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],Se=["aria-hidden"],_e=["aria-hidden"],Pe=["aria-hidden"],A="ElSwitch",Ee=M({name:A}),Te=M({...Ee,props:we,emits:Ve,setup(i,{expose:n,emit:t}){const l=i,b=J(),{formItem:u}=ee(),V=ae(),s=te("switch");ge({from:'"value"',replacement:'"model-value" or "v-model"',scope:A,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},h(()=>{var e;return!!((e=b.vnode.props)!=null&&e.value)}));const{inputId:p}=ie(l,{formItemContext:u}),C=le(h(()=>l.loading)),T=B(l.modelValue!==!1),g=B(),G=B(),H=h(()=>[s.b(),s.m(V.value),s.is("disabled",C.value),s.is("checked",r.value)]),L=h(()=>({width:ne(l.width)}));z(()=>l.modelValue,()=>{T.value=!0}),z(()=>l.value,()=>{T.value=!1});const F=h(()=>T.value?l.modelValue:l.value),r=h(()=>F.value===l.activeValue);[l.activeValue,l.inactiveValue].includes(F.value)||(t(U,l.inactiveValue),t(D,l.inactiveValue),t($,l.inactiveValue)),z(r,e=>{var c;g.value.checked=e,l.validateEvent&&((c=u==null?void 0:u.validate)==null||c.call(u,"change").catch(Z=>se()))});const I=()=>{const e=r.value?l.inactiveValue:l.activeValue;t(U,e),t(D,e),t($,e),ve(()=>{g.value.checked=r.value})},O=()=>{if(C.value)return;const{beforeChange:e}=l;if(!e){I();return}const c=e();[X(c),P(c)].includes(!0)||me(A,"beforeChange must return type `Promise<boolean>` or `boolean`"),X(c)?c.then(K=>{K&&I()}).catch(K=>{}):c&&I()},Y=h(()=>s.cssVarBlock({...l.activeColor?{"on-color":l.activeColor}:null,...l.inactiveColor?{"off-color":l.inactiveColor}:null,...l.borderColor?{"border-color":l.borderColor}:null})),Q=()=>{var e,c;(c=(e=g.value)==null?void 0:e.focus)==null||c.call(e)};return oe(()=>{g.value.checked=r.value}),n({focus:Q,checked:r}),(e,c)=>(o(),f("div",{class:v(a(H)),style:W(a(Y)),onClick:ue(O,["prevent"])},[d("input",{id:a(p),ref_key:"input",ref:g,class:v(a(s).e("input")),type:"checkbox",role:"switch","aria-checked":a(r),"aria-disabled":a(C),name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:a(C),tabindex:e.tabindex,onChange:I,onKeydown:re(O,["enter"])},null,42,Ie),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(o(),f("span",{key:0,class:v([a(s).e("label"),a(s).em("label","left"),a(s).is("active",!a(r))])},[e.inactiveIcon?(o(),y(a(_),{key:0},{default:S(()=>[(o(),y(x(e.inactiveIcon)))]),_:1})):m("v-if",!0),!e.inactiveIcon&&e.inactiveText?(o(),f("span",{key:1,"aria-hidden":a(r)},w(e.inactiveText),9,Se)):m("v-if",!0)],2)):m("v-if",!0),d("span",{ref_key:"core",ref:G,class:v(a(s).e("core")),style:W(a(L))},[e.inlinePrompt?(o(),f("div",{key:0,class:v(a(s).e("inner"))},[e.activeIcon||e.inactiveIcon?(o(),y(a(_),{key:0,class:v(a(s).is("icon"))},{default:S(()=>[(o(),y(x(a(r)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(o(),f("span",{key:1,class:v(a(s).is("text")),"aria-hidden":!a(r)},w(a(r)?e.activeText:e.inactiveText),11,_e)):m("v-if",!0)],2)):m("v-if",!0),d("div",{class:v(a(s).e("action"))},[e.loading?(o(),y(a(_),{key:0,class:v(a(s).is("loading"))},{default:S(()=>[E(a(ce))]),_:1},8,["class"])):m("v-if",!0)],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(o(),f("span",{key:1,class:v([a(s).e("label"),a(s).em("label","right"),a(s).is("active",a(r))])},[e.activeIcon?(o(),y(a(_),{key:0},{default:S(()=>[(o(),y(x(e.activeIcon)))]),_:1})):m("v-if",!0),!e.activeIcon&&e.activeText?(o(),f("span",{key:1,"aria-hidden":!a(r)},w(e.activeText),9,Pe)):m("v-if",!0)],2)):m("v-if",!0)],14,Ce))}});var Ne=de(Te,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const ke=fe(Ne),Be=(i,n,t)=>{i.setup=()=>{i.createCanvas((n==null?void 0:n.clientWidth)||400,(n==null?void 0:n.clientHeight)||400),i.frameRate((t==null?void 0:t.rate)||1),i.background(255)},i.mouseClicked=()=>{};const l=()=>{if(t!=null&&t.index&&(t.PI||t.PI===0)){let b=1/(t.index*2-1);t.index%2===0?t.PI-=b:t.PI+=b,t.index++}};i.draw=async()=>{Number.isSafeInteger(t==null?void 0:t.index)&&new Array((t==null?void 0:t.magnification)||1e4).fill(1).map(()=>{l()}),t!=null&&t.switch||i.background(255),i.rect(i.mouseX,i.mouseY,50,50),i.fill(i.mouseX,200,99),i.rectMode(i.CENTER)}},ze=i=>{const{container:n,p5_instance:t,update:l}=ye(Be,i);return{container:n,p5_instance:t,update:l}};const xe={class:"view"},Ue={class:"fixed top-1 right-0 w-1/2"},De=d("h2",{class:"text-4xl"},"利用1-1/3+1/5-1/7+1.9...计算pi/4",-1),$e=d("span",null,"rate 迭代速度(分辨率)",-1),Ae=d("span",null,"rate 迭代倍率（redrew）",-1),Me=d("span",null,"叠叠图",-1),Fe={key:0},He=M({__name:"leibnizSeries",setup(i){const n=pe({index:1,rate:30,PI:0,magnification:1,switch:!1}),{container:t,update:l}=ze(n);return(b,u)=>{const V=he,s=ke;return o(),f("div",xe,[d("div",Ue,[De,$e,E(V,{min:1,max:60,step:1,modelValue:n.rate,"onUpdate:modelValue":u[0]||(u[0]=p=>n.rate=p),onChange:a(l)},null,8,["modelValue","onChange"]),Ae,E(V,{min:1,max:1e4,step:10,modelValue:n.magnification,"onUpdate:modelValue":u[1]||(u[1]=p=>n.magnification=p),onChange:a(l)},null,8,["modelValue","onChange"]),Me,E(s,{modelValue:n.switch,"onUpdate:modelValue":u[2]||(u[2]=p=>n.switch=p)},null,8,["modelValue"]),d("h1",null,"第i="+w(n.index)+"次迭代",1),d("h2",null,"PI="+w(n.PI*4),1),Number.isSafeInteger(n.index)?m("",!0):(o(),f("span",Fe,"算不动了"))]),d("div",{class:"container",ref_key:"container",ref:t},null,512)])}}});export{He as default};
