var g=Object.defineProperty;var _=(a,s,r)=>s in a?g(a,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[s]=r;var i=(a,s,r)=>(_(a,typeof s!="symbol"?s+"":s,r),r);import{r as w}from"./world-8aeda606.js";import{i as v,S as b,T as M,a2 as E,a3 as k,d as q,c as C,C as y,M as B}from"./three.module-3e64dab6.js";import{c as D}from"./three-b6bfeeee.js";import{t as R}from"./textureWorld-8a528eee.js";import{d as T,r as F,b as c,n as U,l as W,o as j,c as z,a as A}from"./index-27e8f055.js";import"./OrbitControls-dfe0b90a.js";import"./animationWorld-88208ed4.js";import"./light-b9170a66.js";import"./p5-1003a71f.js";const I={class:"view"},O=T({__name:"webglMaterialsEnvmaps",setup(a){const s=new y;class r extends R{constructor(e,t){super(e);i(this,"control");i(this,"option");i(this,"scene");i(this,"textureEquirec");this.camera=new v(70,e.clientWidth/e.clientHeight,1,1e5),this.camera.position.set(0,0,1e3),this.scene=new b,this.option=t,this.control=D(this.camera,this.renderer.domElement,this.option),this.control.minDistance=500,this.control.maxDistance=2500,this.texture()}texture(){const e="/vue3_tauri_fun/imgs/textures/360.jpg",t=new M;this.textureEquirec=t.load(e),this.textureEquirec.mapping=E,this.scene.background=this.textureEquirec;const p=new k(400,15),f=new q({envMap:this.textureEquirec}),x=new C(p,f);this.scene.add(x)}addProject(){}animate(){const e=s.getDelta(),t=B.degToRad(30)*e;this.cube&&(this.cube.rotation.x+=t*10,this.cube.rotation.y+=t,this.cube.rotation.z+=t)}render(e){var t;if(this.camera.lookAt(this.scene.position),w(this,e),(t=this.control)==null||t.update(),this.animate(),e.getBoundingClientRect().width>0)this.animationFrame=requestAnimationFrame(this.render.bind(this,e));else return}}const n=F();let o=c({}),l=c({dampingFactor:.05,enableDamping:!1,control:!0});const m=()=>{n.value&&(o=new r(n.value,l),o instanceof r&&o.render(n.value))};U(()=>{m()});const u=()=>{o instanceof r&&(o.control.dispose(),o.stop(),o.beforeDestroy())};return W(()=>{u()}),(h,d)=>(j(),z("div",I,[A("div",{class:"container",ref_key:"container",ref:n},null,512)]))}});export{O as default};
