import{b as x,d as y,o as C,c as I,a as h,f,u as _,p as S,k as b,_ as q}from"./index-27e8f055.js";import{E}from"./el-input-number-9b9ae2f6.js";import{u as B}from"./useP5-e34c7c49.js";import"./p5-1003a71f.js";const P=(e,s,n)=>{let t=[];const r=(n==null?void 0:n.width)||1,p=(n==null?void 0:n.rate)||60,i=[];e.setup=()=>{e.createCanvas((s==null?void 0:s.clientWidth)||e.windowWidth,(s==null?void 0:s.clientHeight)||e.windowHeight),e.frameRate(p*8),t=new Array(Math.round(e.width/r));for(let o=0;o<t.length;o++)t[o]=e.random(e.height);i.push([0,t.length-1])};const c=e.random(255),v=()=>{for(let o=0;o<t.length;o++){const a=o/t.length*255,l=255-a;e.stroke(c,l,a),e.strokeWeight(r);const d=e.height-t[o];e.line(o*r,e.height,o*r,d)}},V=async(o,a,l)=>new Promise(d=>{let u=a;const m=o[l];for(let g=a;g<l;g++)o[g]<m&&([o[g],o[u]]=[o[u],o[g]],u++);[o[u],o[l]]=[o[l],o[u]],d(u)});e.keyPressed=()=>{e.key==="s"&&e.saveGif("quickSort",3,{})},e.draw=async()=>{if(e.background(0),v(),i.length>0){const[o,a]=i.pop();if(o<a){const l=await V(t,o,a);i.push([o,l-1]),i.push([l+1,a]),[o,a,l].forEach(d=>{const u=e.height-t[d],m=d/t.length*255;e.stroke(m,255-m,m).line(d*r,e.height,d*r,u)})}}else e.noLoop()}},W=()=>{const e=x({rate:20,width:4}),{container:s,p5_instance:n,update:t}=B(P,e);return{container:s,p5_instance:n,update:t,option:e}},w=e=>(S("data-v-5d2b4e47"),e=e(),b(),e),H={class:"view"},L={class:"control"},N=w(()=>h("span",null,"rate 迭代速度",-1)),U=w(()=>h("span",null,"width",-1)),A=y({__name:"quick",setup(e){const{container:s,update:n,option:t}=W();return(r,p)=>{const i=E;return C(),I("div",H,[h("div",L,[N,f(i,{min:1,max:20,step:1,modelValue:_(t).rate,"onUpdate:modelValue":p[0]||(p[0]=c=>_(t).rate=c),onChange:_(n)},null,8,["modelValue","onChange"]),U,f(i,{min:1,max:50,step:1,modelValue:_(t).width,"onUpdate:modelValue":p[1]||(p[1]=c=>_(t).width=c),onChange:_(n)},null,8,["modelValue","onChange"])]),h("div",{class:"container",ref_key:"container",ref:s},null,512)])}}});const j=q(A,[["__scopeId","data-v-5d2b4e47"]]);export{j as default};
